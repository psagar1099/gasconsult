# GasConsult.ai Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ====== Flask Configuration ======
# Secret key for session management (generate with: python -c "import secrets; print(secrets.token_hex(32))")
FLASK_SECRET_KEY=your-secret-key-here

# Flask environment (development or production)
FLASK_ENV=production

# ====== OpenAI Configuration ======
# OpenAI API key for GPT-4o access
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ====== NCBI/PubMed Configuration ======
# Email address for NCBI Entrez API (required by NCBI)
# Use your real email - NCBI may contact you if there are issues
ENTREZ_EMAIL=your-email@example.com

# NCBI Entrez API key (optional but recommended for higher rate limits)
# Get your key from: https://www.ncbi.nlm.nih.gov/account/settings/
# Without API key: 3 requests/second. With API key: 10 requests/second
ENTREZ_API_KEY=your-entrez-api-key-here

# ====== Application Configuration ======
# Port for the application (default: 5000)
PORT=5000

# Host binding (default: 0.0.0.0 for all interfaces)
HOST=0.0.0.0

# ====== Redis Configuration ======
# Redis URL for session storage (production-grade, multi-worker safe)
# Format: redis://[username:password@]host:port[/database]
# For local development: redis://localhost:6379
# For Render: Use the Internal Redis URL from Render dashboard
# For other platforms: Use your Redis provider's connection URL
REDIS_URL=redis://localhost:6379

# ====== Security Configuration ======
# Rate limiting (requests per minute per IP)
RATE_LIMIT=60

# Maximum content length for uploads (in bytes)
MAX_CONTENT_LENGTH=16777216

# ====== Logging Configuration ======
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path (leave empty to log to stdout)
LOG_FILE=

# ====== Chat History & User Database Configuration ======
# Enable persistent chat history and user accounts (true/false)
# Set to 'false' to disable database storage (users won't persist across redeployments)
ENABLE_CHAT_HISTORY=true

# Database directory for persistent storage
# ⚠️  IMPORTANT FOR RENDER/PRODUCTION:
#     On Render, you MUST add a Persistent Disk to avoid losing data on redeployment:
#     1. Go to Render dashboard → Your service → Storage tab
#     2. Click "Add Disk"
#     3. Set mount path to: /var/lib/gasconsult
#     4. Set size (minimum 1GB recommended)
#     5. Click "Create"
#     Without a persistent disk, all user accounts will be lost on each redeployment!
#
# Local Development: Leave empty or set to ./ to use current directory (./gasconsult.db)
# Production (Render): /var/lib/gasconsult (with persistent disk mounted)
GASCONSULT_DB_DIR=/var/lib/gasconsult

# ====== Email Configuration (for verification emails) ======
# SMTP server configuration for sending verification emails
# If not configured, users will be auto-verified (development mode)
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true

# Email credentials
# For Gmail: Use an App Password (not your regular password)
# Generate at: https://myaccount.google.com/apppasswords
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password-here

# Default sender email (defaults to MAIL_USERNAME if not set)
MAIL_DEFAULT_SENDER=noreply@gasconsult.ai

# ====== Admin Configuration ======
# Admin email addresses (comma-separated list)
# Users with these emails will have access to the admin dashboard at /admin
# Example: admin@example.com,user@example.com
ADMIN_EMAILS=sagar@gasconsult.ai

# ====== Optional: External Services ======
# Sentry DSN for error tracking (optional)
# SENTRY_DSN=your-sentry-dsn-here

# Analytics ID (optional)
# ANALYTICS_ID=your-analytics-id-here
